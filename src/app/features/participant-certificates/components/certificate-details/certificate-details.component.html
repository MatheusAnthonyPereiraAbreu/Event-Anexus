<div class="p-4 md:p-8 max-w-5xl mx-auto">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-16 text-gray-500">
        <div class="w-10 h-10 border-4 border-gray-200 border-t-secondary rounded-full animate-spin mb-4"></div>
        <p>Carregando certificado...</p>
    </div>

    <!-- Certificate Details -->
    <div *ngIf="!isLoading && certificate">
        <!-- Back Button -->
        <div class="mb-6 w-[5vw]">
            <app-button label="Voltar" variant="secondary" [iconLeft]="'arrow-left'" (onClick)="goBack()">
            </app-button>
        </div>

        <!-- Certificate Banner -->
        <div class="bg-gradient-to-r from-primary to-secondary p-8 md:p-12 rounded-2xl mb-8 text-white">
            <div class="flex items-center gap-3 mb-4">
                <i class="ph-bold ph-certificate text-4xl"></i>
                <h1 class="text-3xl md:text-4xl font-bold">Certificado de Participação</h1>
            </div>
            <p class="text-grayCool text-lg">Comprovante de conclusão do evento</p>
        </div>

        <!-- Certificate Info Card -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <!-- Header -->
            <div class="bg-gradient-to-r from-secondary to-primary p-6 text-white">
                <h2 class="text-2xl font-bold mb-2">{{ certificate.event.title }}</h2>
                <div class="flex items-center gap-2 text-grayCool">
                    <i class="ph-bold ph-calendar"></i>
                    <span>{{ formatDate(certificate.event.date) }}</span>
                </div>
            </div>

            <!-- Body -->
            <div class="p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <!-- Local -->
                    <div class="flex items-start gap-4">
                        <div
                            class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="ph-bold ph-map-pin text-secondary text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 font-medium mb-1">Local do Evento</p>
                            <p class="text-gray-800 font-semibold">{{ certificate.event.location }}</p>
                        </div>
                    </div>

                    <!-- Palestrante -->
                    <div class="flex items-start gap-4">
                        <div
                            class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="ph-bold ph-user-circle text-secondary text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 font-medium mb-1">Palestrante</p>
                            <p class="text-gray-800 font-semibold">{{ certificate.event.speaker }}</p>
                        </div>
                    </div>

                    <!-- Instituição -->
                    <div class="flex items-start gap-4">
                        <div
                            class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="ph-bold ph-building text-secondary text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 font-medium mb-1">Instituição Organizadora</p>
                            <p class="text-gray-800 font-semibold">{{ certificate.event.institution_organizer }}</p>
                        </div>
                    </div>

                    <!-- Data de Geração -->
                    <div class="flex items-start gap-4">
                        <div
                            class="w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="ph-bold ph-clock text-secondary text-2xl"></i>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500 font-medium mb-1">Certificado Gerado em</p>
                            <p class="text-gray-800 font-semibold">{{ formatDateTime(certificate.generated_at) }}</p>
                        </div>
                    </div>
                </div>

                <!-- Status Badge -->
                <div
                    class="flex items-center justify-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg mb-6">
                    <i class="ph-bold ph-check-circle text-green-600 text-2xl"></i>
                    <div>
                        <p class="text-green-800 font-semibold">Certificado Válido</p>
                        <p class="text-green-600 text-sm">
                            {{ certificate.sent_by_email ? 'Enviado por e-mail' : 'Disponível para download' }}
                        </p>
                    </div>
                </div>

                <!-- Download Button -->
                <div class="flex justify-center">
                    <app-button label="Baixar Certificado" variant="primary" [iconLeft]="'download-simple'"
                        [disabled]="isDownloading" (onClick)="downloadCertificate()" class="min-w-[250px]">
                    </app-button>
                </div>
            </div>
        </div>

        <!-- Info Footer -->
        <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
            <div class="flex items-start gap-3">
                <i class="ph-bold ph-info text-secondary text-xl"></i>
                <div class="text-sm text-gray-600">
                    <p class="font-medium text-gray-800 mb-1">Sobre o certificado</p>
                    <p>Este certificado comprova sua participação no evento. O arquivo PDF pode ser impresso ou
                        compartilhado digitalmente. Guarde-o com segurança para futuras referências.</p>
                </div>
            </div>
        </div>
    </div>
</div>